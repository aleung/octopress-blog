
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Good good study, day day up</title>
  <meta name="author" content="Leo Liang">

  
  <meta name="description" content="四川汶川县境内今天14:28发生7.8级地震，震中距离成都市区约90km，距离彭州市区约66km。14:54发生的5.7级余震距离彭州市区约22km。 上图数据来自USGS（US Geological Survey，美国地质勘探局），这里可以看到此次地震以及余震的信息(一周内有效)。
">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://aleung.github.io/blog/blog/page/32/">
  <link href="/blog/favicon.png" rel="icon">
  <link href="/blog/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/blog/javascripts/modernizr-2.0.js"></script>
  <script src="/blog/javascripts/ender.js"></script>
  <script src="/blog/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/GoodGoodStudyDayDayUp" rel="alternate" title="Good good study, day day up" type="application/atom+xml">
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-2827715-4']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/blog/">Good good study, day day up</a></h1>
  
    <h2>aleung的学习笔记, aleung的idea</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/GoodGoodStudyDayDayUp" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:aleung.github.io/blog" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/blog/">Blog</a></li>
  <li><a href="/blog/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/05/13/Wenchuan-county-sichuan-M7-8-earthquake-happened/">四川汶川县发生M7.8级地震</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-05-13T05:06:00+08:00" pubdate data-updated="true">2008-05-13</time>
        
         | 

<span class="tags">
  
    <a class='tag' href='/blog/tags/gps-gis/'>GPS_GIS</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><p>四川汶川县境内今天14:28发生7.8级地震，震中距离成都市区约90km，距离彭州市区约66km。14:54发生的5.7级余震距离彭州市区约22km。</p>

<p><img src="http://photo1.bababian.com/upload11/20080512/02D8796E47266104909DE6C9CD15F921.jpg" alt="" /></p>

<p>上图数据来自USGS（US Geological Survey，美国地质勘探局），<a href="http://earthquake.usgs.gov/eqcenter/recenteqsww/Maps/10/105_30.php">这里</a>可以看到此次地震以及余震的信息(一周内有效)。</p>
</div>
  
  
  
    <footer>
        <a href="/blog/2008/05/13/Wenchuan-county-sichuan-M7-8-earthquake-happened/#disqus_thread">Comments</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/05/11/How-does-Google-Map-My-Location-work-/">How Does Google Map My Location Work?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-05-11T08:22:00+08:00" pubdate data-updated="true">2008-05-11</time>
        
         | 

<span class="tags">
  
    <a class='tag' href='/blog/tags/gps-gis/'>GPS_GIS</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><p>在今年初推出的<a href="http://www.google.com/mobile/gmm/index.html">Google Map for Mobile</a>新版本中提供了称为My Location的功能，不需要GPS的支持，也能在地图上显示出当前手机所在的位置。这个功能着实让人眼前一亮。虽然移动网络本身就可以提供定位的能力，但是Google的My Location并不依赖于移动网络定位能力，完全绕开了运营商的控制。</p>

<p>My Location是怎样实现的呢？Google网站上介绍了大致的<a href="http://www.google.com/mobile/gmm/mylocation/index.html">原理</a>：手机接收到移动基站的信号，根据基站的信息可以知道当前处于哪个基站的信号覆盖范围，如果基站的位置是已知的，就可以确定当前的大概位置了。</p>

<p>具体点说，这是一种叫做Cell-Id Positioning Method的技术。GSM网络（3G网络也一样）覆盖由Location Area组成，（Location Area是指mobile terminal可以任意移动而不需要进行location update的区域）。Location Area由LAI（Location Area Id）来标识，LAI由MCC，MNC，LAC组成。其中MCC是3位的Mobile Country Code，中国为460；MNC是2位Mobile Network Code，在国家内分配，中国移动为00；LAC为Location Area Code，在network内分配；可见LAI是全世界唯一的。在一个location area中设置一个或多个基站，基站天线的信号覆盖一定的区域，称为cell（小区）；根据天线的不同，每个基站可能包含1个或多个cell，定向天线的信号覆盖一个扇形范围，多个天线的扇区为不同的cell。每个cell有自己的Cell-Id，结合LAI和Cell-Id，就可以在全球范围内唯一确定一个cell。要进行定位，需要有一个cell坐标数据库，根据cell-id来查找位置信息。</p>

<p>Google的My Location表示格式为myl:MCC:MNC:LAC:CI。在Google Map for Mobile的about信息末尾可以看到。如果显示为myl:n/a，那就是手机不能提供cell-id信息。很不幸，我正在用的SonyEricsson w810c就不支持:(</p>

<p>下一个问题就是cell坐标数据是怎么来的？移动网络运营商提供，不是太现实。Google不可能与全球所有的运营商达成协议。特别是在中国，凡是涉及精确地理坐标的数据都属于机密范畴，然而我们发现My Location在广州是可用的，估计其他城市也可以。于是我猜Google是自己采集这些信息的，例如开辆车周围转，记录各处的cell-id。但有点奇怪的是，在广州我们发现在天河软件园得到的位置比较准确，但是在其他地方的就误差很大，并且表示精确度范围的圆圈半径非常大，将半个天河区都包含在内。难道Google只在天河软件园采集了数据，而其他地方没有？</p>

<p>最近，一个同事开发了一个程序，利用手机自带的GPS定位，将cell-id与坐标记录下来。我们讨论的时候才恍然大悟，Google很可能就是这样做的！有些Google Map for Mobile用户的手机是支持GPS的，当这些用户运行Google Map时打开了GPS，坐标数据以及cell-id就会发送到Google的服务器，等于有许多用户在替Google采集数据。在天河软件园的定位准确，就因为我们（当然也可能有其他人）在这里试验Google Map时打开过GPS。在我们这里，支持GPS的手机的拥有率不高，同时又使用Google Map的更少，因此Google掌握到的数据很有限。在没有采集到数据的地方，定位就不准确了。</p>

<p>为了求证，到Google网站上查看，在GoogleMobile的Privacy Policy中找到这样一段话：<em>If you use location-based products and services, such as Google Maps for mobile, you may be sending us location information. This information may reveal your actual location, such as GPS data, or it may not, such as when you submit a partial address to look at a map of the area</em>. 在help中又找到一段话：<em>Google takes geo-contextual information [from anonymous GPS-readings, etc] and associates this information with the cell at that location to develop a database of cell locations</em>. 看来我们的猜想是成立的。其实还可以通过做实验来证明：找一台支持GPS的手机，到一个定位有非常大误差的地方，在Google Map中enable GPS。过一段时间后，例如几天，因为Google处理数据可能有延迟，在关闭GPS的状态下看My Location，如果定位变得准确了就是Google使用了用户手机GPS采集的数据。不过我没有GPS手机，无法做这个实验。</p>

<p>在网上查找资料的过程中发现，其实Cell-id定位并不是一项新技术，不过它与Google Map的海量高清晰度地图结合起来，给业界带来了震撼。在Treo智能手机上，2006年就有国内的爱好者开发了<a href="http://www.palm119.net/blogview.asp?logID=42">手机定位软件</a>，根据cell-id查询到当前位置，不过位置信息是地名，而不是经纬度坐标；Cell-Id对照地名信息的数据库是由用户补充完善的。在网上搜索一下，也可以找到好几个开放的cell-id坐标数据库，例如<a href="http://www.opencellid.org/">OpenCellID</a>，只不过几乎都没有中国大陆的数据。Flickr为了配合ZoneTag（用手机拍照时记录下cell-id，从而可以知道照片拍摄的位置），还提供了<a href="http://developer.yahoo.com/yrb/zonetag/locatecell.html">Cell Location API</a>。</p>
</div>
  
  
  
    <footer>
        <a href="/blog/2008/05/11/How-does-Google-Map-My-Location-work-/#disqus_thread">Comments</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/15/Linux-cut-/">Linux的cut命令</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-15T20:54:00+08:00" pubdate data-updated="true">2008-04-15</time>
        
         | 

<span class="tags">
  
    <a class='tag' href='/blog/tags/sysadmin/'>SysAdmin</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><p>原来有个这么好用的命令：cut</p>

<p>经常都需要分析一个字符串或者文本文件，根据一些规则提取出其中某部分的内容。以前都是用awk来做，但awk太复杂了，每次都要拿手册查半天。今天才知道原来GNU有个叫cut的命令，就可以做这个事情。</p>

<p>例如，获取当前机器的IP地址：</p>

<pre><code>/sbin/ifconfig | grep 'inet addr' | grep -v '127.0.0.1' | cut -d: -f2 | cut -d' ' -f1
</code></pre>

<p>这个命令在linux和windows的unixutils里都有。</p>
</div>
  
  
  
    <footer>
        <a href="/blog/2008/04/15/Linux-cut-/#disqus_thread">Comments</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/12/08/A-strict-scientific-attitude-all-have-no-calculate-what-scientists/">一点严谨的科学态度都没有，算什么科学家</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-12-08T03:06:00+08:00" pubdate data-updated="true">2007-12-08</time>
        
         | 

<span class="tags">
  
    <a class='tag' href='/blog/tags/misc/'>Misc</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><p>摘自网易新闻《<a href="http://news.163.com/07/1207/06/3V3C3V5G0001124J.html">欧阳自远强调月照真实 称拼接误差不值一谈</a>》：</p>

<blockquote>
  <p><strong>南都</strong>：最近网上对嫦娥月照有一些争论，特别是嫦娥月照比美国拍的”多”了一个陨石坑的问题很多人都关心，有网友说是拼接错误造成的……  </p>
</blockquote>

<blockquote>
  <p><strong>欧阳自远</strong>：这个问题分两个层次来讲：第一，中国的照片是真是假，这是原则问题，这是丝毫不容许乱说的，<em>这是对我们国家的侮辱</em>，这是对1.7万人工作成果的否定，这是原则问题，我希望你们能够理解这一点。  </p>
</blockquote>

<blockquote>
  <p>第二个问题，美国的图是1994年拍到，2005年才校核了，多少年？10年啊，我们这个图才3天啊，对不对？<strong><em>这技术拼接上有一些具体……因为牵涉到很多很多因素，我认为没什么关系的</em></strong>，我们还没有最后定型啊，所以我的意思啊，不能以此认为是假的，而且那个事情也没有多大争论的意义。  </p>
</blockquote>

<blockquote>
  <p>我认为不要去纠缠这些问题，为什么呢？这个是真假的问题，真假是不允许有任何怀疑的，难道我们会去做假吗？那么多人，这是侮辱啊，所以我要说清楚。  </p>
</blockquote>

<blockquote>
  <p><strong>南都</strong>：那就是说，我们在3天内，采用技术拼接出来的图片，可能在拼接过程中有一定瑕疵，但美国人是用10年时间才拼接出来的图片，不一定能说明他……  </p>
</blockquote>

<blockquote>
  <p><strong>欧阳自远</strong>：他也有很多问题啊，<em>我跟你说啊，不要在这个问题上面，我建议你就讲真假问题，不要讲后面的，那个没有多大意思</em>。  </p>
</blockquote>

<blockquote>
  <p><strong>南都</strong>：问题是，在网络上，那个多了的陨石坑大家议论很多……  </p>
</blockquote>

<blockquote>
  <p><strong>欧阳</strong>：我告诉你一个问题，阿波罗还是假的呢，你知道现在还在争论这个问题。美国航空航天局对这个问题什么态度？  </p>
</blockquote>

<blockquote>
  <p><strong>南都</strong>：回避，不争论。  </p>
</blockquote>

<blockquote>
  <p><strong>欧阳自远</strong>：不是回避，是不值得一驳。现在这个问题，我也觉得，不值得一谈，置之不理，为什么？<strong><em>这种小儿科的问题，不要谈</em></strong>。另一个问题就是争论，你让网友去争论吧，媒体不必去掺和了，好不好？  </p>
</blockquote>

<blockquote>
  <p><strong><em>我们就谈真假，不去谈细节了。细节，坦白讲你们搞不懂的</em></strong>，你知道有多少繁琐的细节啊，你去扯这个扯不清楚啊。 </p>
</blockquote>

<p>图像拼接的细节没有关系？那么花这么多钱发射个嫦娥就是为了开个新闻发布会的？</p>

<p>技术细节别人不懂，就你们专家才懂？只有你们才懂，所以就可以随便糊弄了？看看天文爱好者是怎么分析的：<a href="http://www.astron.sh.cn/cgi-bin/topic.cgi?forum=52&amp;topic=92">疑问：欧阳自远说的嫦娥月照上的新撞击坑</a></p>

<p>首席科学家也就是这么一个德行，中国科学界能搞出什么名堂来？ </p>
</div>
  
  
  
    <footer>
        <a href="/blog/2007/12/08/A-strict-scientific-attitude-all-have-no-calculate-what-scientists/#disqus_thread">Comments</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/10/30/-DuDong-lawsuit-with-Shanghai-telecom-case/">“杜东劲诉上海电信”案</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-10-30T05:05:00+08:00" pubdate data-updated="true">2007-10-30</time>
        
         | 

<span class="tags">
  
    <a class='tag' href='/blog/tags/misc/'>Misc</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><p>一审判决败诉，判决书见<a href="http://picasaweb.google.com/yetaai/ChinaInternetCensorshipLawsuitAgainstChinaTelecomByYetaai">这里</a></p>
</div>
  
  
  
    <footer>
        <a href="/blog/2007/10/30/-DuDong-lawsuit-with-Shanghai-telecom-case/#disqus_thread">Comments</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/blog/page/33/">&larr; Older</a>
    
    <a href="/blog/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/blog/page/31/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Note</h1>
  <p>中国大陆用户可能会因为网络被屏蔽而无法访问本网站或部分内容(文字/图片), 如遇到这种情况, 请翻墙访问</p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/09/20/quality-of-free-software/">自由软件质量不如软件企业自己开发的可靠？</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/09/20/continuous-learning/">持续学习</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/08/29/html-presentation-framework/">HTML presentation framework</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/09/the-end-of-eternity/">永恒的终结</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/04/03/jekyll-swagger-ui/">Jekyll 与 Swagger UI 集成</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Tags</h1>
  <ul class="tag-cloud">
<a style="font-size: 137%" href="/blog/tags/android/">Android</a>
<a style="font-size: 112%" href="/blog/tags/anti-gfw/">Anti-GFW</a>
<a style="font-size: 92%" href="/blog/tags/appserver/">AppServer</a>
<a style="font-size: 98%" href="/blog/tags/architecture/">Architecture</a>
<a style="font-size: 70%" href="/blog/tags/artculture/">ArtCulture</a>
<a style="font-size: 118%" href="/blog/tags/blogging/">Blogging</a>
<a style="font-size: 112%" href="/blog/tags/civilsociety/">CivilSociety</a>
<a style="font-size: 109%" href="/blog/tags/diy/">DIY</a>
<a style="font-size: 84%" href="/blog/tags/datavisualization/">DataVisualization</a>
<a style="font-size: 70%" href="/blog/tags/database/">Database</a>
<a style="font-size: 84%" href="/blog/tags/design/">Design</a>
<a style="font-size: 84%" href="/blog/tags/environmentalprotection/">EnvironmentalProtection</a>
<a style="font-size: 70%" href="/blog/tags/excel/">Excel</a>
<a style="font-size: 84%" href="/blog/tags/funny/">Funny</a>
<a style="font-size: 142%" href="/blog/tags/gps-gis/">GPS_GIS</a>
<a style="font-size: 84%" href="/blog/tags/gadget/">Gadget</a>
<a style="font-size: 70%" href="/blog/tags/geek/">Geek</a>
<a style="font-size: 70%" href="/blog/tags/geocaching/">Geocaching</a>
<a style="font-size: 70%" href="/blog/tags/hardware/">Hardware</a>
<a style="font-size: 84%" href="/blog/tags/haskell/">Haskell</a>
<a style="font-size: 70%" href="/blog/tags/homeappliance/">HomeAppliance</a>
<a style="font-size: 137%" href="/blog/tags/idea/">Idea</a>
<a style="font-size: 109%" href="/blog/tags/imageprocessing/">ImageProcessing</a>
<a style="font-size: 92%" href="/blog/tags/java/">Java</a>
<a style="font-size: 70%" href="/blog/tags/learning/">Learning</a>
<a style="font-size: 109%" href="/blog/tags/life/">Life</a>
<a style="font-size: 103%" href="/blog/tags/maven/">Maven</a>
<a style="font-size: 137%" href="/blog/tags/misc/">Misc</a>
<a style="font-size: 106%" href="/blog/tags/mywork/">MyWork</a>
<a style="font-size: 84%" href="/blog/tags/novel/">Novel</a>
<a style="font-size: 84%" href="/blog/tags/outdoor/">Outdoor</a>
<a style="font-size: 106%" href="/blog/tags/personaldevelopment/">PersonalDevelopment</a>
<a style="font-size: 84%" href="/blog/tags/presentation/">Presentation</a>
<a style="font-size: 120%" href="/blog/tags/reading/">Reading</a>
<a style="font-size: 126%" href="/blog/tags/running/">Running</a>
<a style="font-size: 70%" href="/blog/tags/sip/">SIP</a>
<a style="font-size: 84%" href="/blog/tags/scala/">Scala</a>
<a style="font-size: 133%" href="/blog/tags/software/">Software</a>
<a style="font-size: 160%" href="/blog/tags/softwaredev/">SoftwareDev</a>
<a style="font-size: 92%" href="/blog/tags/springframework/">SpringFramework</a>
<a style="font-size: 84%" href="/blog/tags/statistics/">Statistics</a>
<a style="font-size: 125%" href="/blog/tags/sysadmin/">SysAdmin</a>
<a style="font-size: 118%" href="/blog/tags/timemanagement/">TimeManagement</a>
<a style="font-size: 84%" href="/blog/tags/uml/">UML</a>
<a style="font-size: 98%" href="/blog/tags/ux/">UX</a>
<a style="font-size: 106%" href="/blog/tags/web/">Web</a>
<a style="font-size: 98%" href="/blog/tags/weblogic/">WebLogic</a>
<a style="font-size: 98%" href="/blog/tags/windows/">Windows</a>
<a style="font-size: 70%" href="/blog/tags/i18n/">i18n</a>

  </ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Leo Liang -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'aleung';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
